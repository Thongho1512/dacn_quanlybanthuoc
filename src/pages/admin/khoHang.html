<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Qu·∫£n l√Ω kho h√†ng - H·ªá th·ªëng qu·∫£n l√Ω b√°n thu·ªëc" />
  <title>Qu·∫£n l√Ω kho h√†ng - AdminPro</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../../css/reset.css" />
  <link rel="stylesheet" href="../../css/base.css" />
  <link rel="stylesheet" href="../../css/dashboard.css" />
  <link rel="stylesheet" href="../../css/khoHang.css" />
</head>

<body>
  <div class="dashboard-container">
    <!-- HEADER -->
    <div id="header"></div>

    <!-- SIDEBAR OVERLAY (Mobile) -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- MAIN LAYOUT -->
    <div class="main-layout">
      <!-- Sidebar -->
      <div id="sidebar-container"></div>

      <!-- CONTENT AREA -->
      <main class="content-area">
        <!-- Page Header -->
        <div class="page-header">
          <h1 class="page-title">üì¶ Qu·∫£n l√Ω kho h√†ng</h1>
          <p class="page-subtitle">Theo d√µi t·ªìn kho v√† c·∫£nh b√°o h√†ng h√≥a</p>
        </div>

        <!-- STATISTICS CARDS -->
        <div id="stats-container" class="stats-container"></div>

        <!-- ALERT BANNER -->
        <div id="alert-banner-container"></div>

        <!-- FILTER BAR -->
        <div class="filter-bar">
          <div class="filter-item">
            <label class="filter-label" for="filter-chi-nhanh">üè¢ Chi nh√°nh</label>
            <select class="filter-select" id="filter-chi-nhanh">
              <option value="">T·∫•t c·∫£ chi nh√°nh</option>
            </select>
          </div>

          <div class="filter-item">
            <label class="filter-label" for="filter-ton-kho">üìä Tr·∫°ng th√°i t·ªìn kho</label>
            <select class="filter-select" id="filter-ton-kho">
              <option value="">T·∫•t c·∫£</option>
              <option value="low">‚ö†Ô∏è T·ªìn kho th·∫•p</option>
              <option value="normal">‚úÖ B√¨nh th∆∞·ªùng</option>
            </select>
          </div>

          <div class="filter-item">
            <label class="filter-label" for="filter-han-su-dung">üìÖ H·∫°n s·ª≠ d·ª•ng</label>
            <select class="filter-select" id="filter-han-su-dung">
              <option value="">T·∫•t c·∫£</option>
              <option value="expired">üö´ ƒê√£ h·∫øt h·∫°n</option>
              <option value="expiring">‚è∞ S·∫Øp h·∫øt h·∫°n (30 ng√†y)</option>
              <option value="ok">‚úÖ C√≤n h·∫°n</option>
            </select>
          </div>
        </div>

        <!-- TOOLBAR -->
        <div class="toolbar">
          <div id="search-container"></div>

          <button class="btn btn-secondary" id="refresh-btn" title="L√†m m·ªõi d·ªØ li·ªáu">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>
              <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>
            </svg>
            L√†m m·ªõi
          </button>
        </div>

        <!-- TABLE CONTAINER -->
        <div id="table-container"></div>
      </main>
    </div>

    <!-- FOOTER -->
    <div id="footer"></div>
  </div>

  <!-- MODAL ROOT -->
  <div id="modal-root"></div>

  <!-- UPDATE FORM TEMPLATE -->
  <template id="stock-update-form-template">
    <form id="stock-update-form" class="stock-update-form">
      <!-- STOCK DETAIL INFO -->
      <div class="stock-detail-info">
        <div class="info-item">
          <span class="info-label">üè¢ Chi nh√°nh</span>
          <span class="info-value" id="detail-chi-nhanh">-</span>
        </div>

        <div class="info-item">
          <span class="info-label">üíä Thu·ªëc</span>
          <span class="info-value" id="detail-thuoc">-</span>
        </div>

        <div class="info-item">
          <span class="info-label">üî¢ S·ªë l√¥</span>
          <span class="info-value" id="detail-so-lo">-</span>
        </div>

        <div class="info-item">
          <span class="info-label">üìÖ Ng√†y h·∫øt h·∫°n</span>
          <span class="info-value" id="detail-han-su-dung">-</span>
        </div>
      </div>

      <!-- T·ªíN KHO T·ªêI THI·ªÇU -->
      <div class="form-group">
        <label class="form-label" for="tonKhoToiThieu">
          üìä T·ªìn kho t·ªëi thi·ªÉu <span class="required">*</span>
        </label>
        <input
          type="number"
          class="form-input"
          id="tonKhoToiThieu"
          name="tonKhoToiThieu"
          placeholder="V√≠ d·ª•: 10"
          required
          min="0"
          max="10000"
          step="1" />
        <small class="form-note" style="color: #64748b; font-size: 12px; display: block; margin-top: 4px;">
          H·ªá th·ªëng s·∫Ω c·∫£nh b√°o khi s·ªë l∆∞·ª£ng t·ªìn xu·ªëng d∆∞·ªõi m·ª©c n√†y
        </small>
      </div>

      <!-- S·ªê L∆Ø·ª¢NG T·ªíN -->
      <div class="form-group">
        <label class="form-label" for="soLuongTon">
          üì¶ S·ªë l∆∞·ª£ng t·ªìn hi·ªán t·∫°i <span class="required">*</span>
        </label>
        <div class="quantity-input-wrapper">
          <input
            type="number"
            class="form-input"
            id="soLuongTon"
            name="soLuongTon"
            placeholder="V√≠ d·ª•: 100"
            required
            min="0"
            max="100000"
            step="1" />
          <div class="quantity-warning" id="quantity-warning">
            <strong>‚ö†Ô∏è C·∫£nh b√°o:</strong> Vi·ªác thay ƒë·ªïi s·ªë l∆∞·ª£ng t·ªìn tr·ª±c ti·∫øp c√≥ th·ªÉ g√¢y m·∫•t c√¢n ƒë·ªëi d·ªØ li·ªáu. 
            N√™n thay ƒë·ªïi th√¥ng qua ƒë∆°n nh·∫≠p h√†ng ho·∫∑c ƒë∆°n b√°n h√†ng.
          </div>
        </div>
        <small class="form-note" style="color: #64748b; font-size: 12px; display: block; margin-top: 4px;">
          <strong>L∆∞u √Ω:</strong> Ch·ªâ ƒëi·ªÅu ch·ªânh khi th·ª±c hi·ªán ki·ªÉm k√™ ho·∫∑c ƒëi·ªÅu ch·ªânh kho
        </small>
      </div>

      <!-- WARNING BOX -->
      <div style="padding: 16px; background: #fef3c7; border: 2px solid #f59e0b; border-radius: 8px; margin-bottom: 20px;">
        <div style="display: flex; gap: 12px; align-items: start;">
          <span style="font-size: 24px;">‚ö†Ô∏è</span>
          <div>
            <strong style="color: #92400e; display: block; margin-bottom: 8px;">
              C·∫£nh b√°o quan tr·ªçng
            </strong>
            <ul style="color: #92400e; font-size: 13px; margin-left: 20px;">
              <li>Vi·ªác s·ª≠a s·ªë l∆∞·ª£ng t·ªìn tr·ª±c ti·∫øp s·∫Ω KH√îNG t·∫°o l·ªãch s·ª≠ giao d·ªãch</li>
              <li>Ch·ªâ s·ª≠ d·ª•ng khi th·ª±c hi·ªán ki·ªÉm k√™ kho ho·∫∑c ƒëi·ªÅu ch·ªânh sai s√≥t</li>
              <li>N√™n s·ª≠ d·ª•ng ch·ª©c nƒÉng "ƒê∆°n nh·∫≠p h√†ng" ƒë·ªÉ tƒÉng t·ªìn kho</li>
              <li>Ng√†y c·∫≠p nh·∫≠t s·∫Ω ƒë∆∞·ª£c ghi l·∫°i t·ª± ƒë·ªông</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- FORM ACTIONS -->
      <div class="form-actions">
        <button type="button" class="btn btn-secondary" id="cancel-btn">
          H·ªßy
        </button>
        <button type="submit" class="btn btn-primary" id="submit-btn">
          <span class="btn-text">üíæ C·∫≠p nh·∫≠t kho h√†ng</span>
          <span class="btn-loading" style="display: none">
            <span class="loading-spinner"></span> ƒêang x·ª≠ l√Ω...
          </span>
        </button>
      </div>
    </form>
  </template>

  <!-- JAVASCRIPT -->
  <script type="module" src="../../js/pages/admin/khoHang.js"></script>
</body>
</html>